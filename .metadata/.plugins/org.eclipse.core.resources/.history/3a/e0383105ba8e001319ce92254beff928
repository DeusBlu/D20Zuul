/**
 * 
 */

/**
 * @author desmond.jenkins
 *
 */
public class Consumable extends MagicDevice {
	private String[] EFFECT = {
			"damage", "healing", "buff", "misc"
	};
	private String effect;
	private Damage effectValue;
	/**
	 * 
	 */
	public Consumable() {
		super();
		setEffect("misc");
		setEffectValue(effectValue);
	}

	/**
	 * @param weight
	 * @param value
	 * @param name
	 * @param charges
	 * @param effect
	 * @param effectValue
	 */
	public Consumable(double weight, int value, String name, int charges,
			String effect, Damage effectValue) {
		super(weight, value, name, charges, effect, effectValue);
		setEffect(effect);
		setEffectValue(effectValue);
	}
	
	/**
	 * sets the effect value, a damage object to hold dice and modifiers
	 * @param effectValue
	 */
	private void setEffectValue(Damage effectValue)
	{
		if(effectValue != null){
			this.effectValue = effectValue;
		}
		else{
			throw new IllegalArgumentException("Damage item of " + getName() + " was null");
		}
	}
	
	/**
	 * sets the effect type of the item, throws exception if the type is not valid
	 * @param effect
	 */
	private void setEffect(String effect)
	{
		for(int i = 0; i < EFFECT.length; i++){
			if(effect.equalsIgnoreCase(EFFECT[i]))
				this.effect = effect;
		}
		if(this.effect == null){
			throw new IllegalArgumentException("Effect of item " + getName() + " is not a valid effect type");
		}
	}
}
